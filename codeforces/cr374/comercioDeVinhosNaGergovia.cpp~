#include <bits/stdc++.h>
using namespace std;

int main ()
{
  int n;
  int v[112345];

  while (cin >> n && n){
    for (int i = 0; i < n; i++) cin >> v[i];

    stack<pair<int,int> > vende, compra;
    long long int cont = 0;

    for (int i = 0; i < n; i++){
      if (v[i] < 0){
	v[i] = -v[i];
	if (compra.size() > 0){
	  while (compra.size() > 0 && compra.top().first > v[i]){
	    v[i] -= compra.top().first;
	    cont += (i - compra.top().second)*1ll*compra.top().first;
	    compra.pop();
	  }
	  if (v[i] != 0 && compra.size()){
	    cont += (i - compra.top().second)*1ll*v[i];
	    v[i] = compra.top().first - v[i];
	    compra.pop();
	    compra.push(make_pair(v[i], i));
	    v[i] = 0;
	  }
	  else if (v[i] != 0)
	    vende.push(make_pair(v[i],i));
	}
	else vende.push(make_pair(v[i],i));
      }
      else{
	if (vende.size() > 0){
	  while (vende.size() > 0 && vende.top().first > v[i]){
	    v[i] -= vende.top.first;
	    cont += (i - vende.top().second)*1ll*vende.top().first;
	    vende.pop();
	  }
	  if (v[i] != 0 && vende.size()){
	    cont += (i - vende.top().second)*1ll*v[i];
	    v[i] = vende.top().first - v[i];
	    vende.pop();
	    vende.push(make_pair(v[i], i));
	    v[i] = 0;
	  }
	  else if (v[i] != 0)
	    compra.push(make_pair(v[i],i));
	}
	else compra.push(make_pair(v[i],i));
      }
    }

    cout << cont << endl;
  }

  return 0;
}
